{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/chart/chart.component.css","webpack:///./src/app/chart/chart.component.html","webpack:///./src/app/chart/chart.component.ts","webpack:///./src/app/ddi.service.ts","webpack:///./src/app/interface/interface.component.css","webpack:///./src/app/interface/interface.component.html","webpack:///./src/app/interface/interface.component.ts","webpack:///./src/app/var-dialog/var-dialog.component.css","webpack:///./src/app/var-dialog/var-dialog.component.html","webpack:///./src/app/var-dialog/var-dialog.component.ts","webpack:///./src/app/var-group/var-group.component.css","webpack:///./src/app/var-group/var-group.component.html","webpack:///./src/app/var-group/var-group.component.ts","webpack:///./src/app/var-stat-dialog/var-stat-dialog.component.css","webpack:///./src/app/var-stat-dialog/var-stat-dialog.component.html","webpack:///./src/app/var-stat-dialog/var-stat-dialog.component.ts","webpack:///./src/app/var/var.component.css","webpack:///./src/app/var/var.component.html","webpack:///./src/app/var/var.component.ts","webpack:///./src/assets/js/xml2json.js","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","module.exports = \"<app-interface></app-interface>\\n\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'data-curation-tool';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { registerLocaleData } from '@angular/common';\nimport localeFrCa from '@angular/common/locales/fr-CA';\n\n// the second parameter 'fr' is optional\nregisterLocaleData(localeFrCa, 'fr-CA');\n\nimport {\n  MatButtonModule,\n  MatTableModule,\n  MatSortModule,\n  MatTabsModule,\n  MatIconModule,\n  MatToolbarModule,\n  MatProgressSpinnerModule,\n  MatPaginatorModule,\n  MatFormFieldModule,\n  MatInputModule,\n  MatDialogModule,\n  MatSidenavModule,\n  MatListModule,\n  MatCheckboxModule,\n  MatSelectModule,\n  MatGridListModule,\n  MatChipsModule,\n  MatSnackBarModule,\n  MatTooltipModule,\n  MatAutocompleteModule\n} from '@angular/material';\n\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { AppComponent } from './app.component';\nimport { DdiService } from './ddi.service';\nimport { InterfaceComponent } from './interface/interface.component';\nimport { HttpClientModule } from '@angular/common/http';\nimport { VarGroupComponent } from './var-group/var-group.component';\nimport { VarComponent } from './var/var.component';\nimport { VarDialogComponent } from './var-dialog/var-dialog.component';\nimport { VarStatDialogComponent } from './var-stat-dialog/var-stat-dialog.component';\nimport { ChartComponent } from './chart/chart.component';\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    InterfaceComponent,\n    VarGroupComponent,\n    VarComponent,\n    VarDialogComponent,\n    VarStatDialogComponent,\n    ChartComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    MatButtonModule,\n    MatTabsModule,\n    MatIconModule,\n    MatToolbarModule,\n    MatTableModule,\n    MatSortModule,\n    MatProgressSpinnerModule,\n    MatPaginatorModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatDialogModule,\n    MatSidenavModule,\n    MatListModule,\n    MatCheckboxModule,\n    MatSelectModule,\n    MatGridListModule,\n    MatChipsModule,\n    MatSnackBarModule,\n    MatTooltipModule,\n    MatAutocompleteModule,\n  ],\n  exports: [\n  ],\n  entryComponents: [VarDialogComponent, VarStatDialogComponent],\n  providers: [DdiService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoYXJ0L2NoYXJ0LmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div #chart ></div>\\n\"","import { Component, OnInit, ViewChild, ElementRef, Input } from '@angular/core';\nimport * as d3 from 'd3';\n\n@Component({\n  selector: 'app-chart',\n  templateUrl: './chart.component.html',\n  styleUrls: ['./chart.component.css']\n})\nexport class ChartComponent implements OnInit {\n  @ViewChild('chart') private chartContainer: ElementRef;\n  color_array = [\n    '#3366cc',\n    '#dc3912',\n    '#ff9900',\n    '#109618',\n    '#990099',\n    '#0099c6',\n    '#dd4477',\n    '#66aa00',\n    '#b82e2e',\n    '#316395',\n    '#994499',\n    '#22aa99',\n    '#aaaa11',\n    '#6633cc',\n    '#e67300',\n    '#8b0707',\n    '#651067',\n    '#329262',\n    '#5574a6',\n    '#3b3eac',\n    '#b77322',\n    '#16d620',\n    '#b91383',\n    '#f4359e',\n    '#9c5935',\n    '#a9c413',\n    '#2a778d',\n    '#668d1c',\n    '#bea413',\n    '#0c5922',\n    '#743411'\n  ];\n  max_string_length = 13;\n  @Input() private data: Array<any>;\n\n  constructor() {}\n\n  ngOnInit() {\n    this.createChart(this.data);\n  }\n\n  createChart(_data) {\n    const obj = this;\n    let data = this.data;\n    data = [];\n    console.log(_data);\n    for (let i = 0; i < _data.length; i++) {\n      console.log('chart: data.length ' + _data.length);\n      let freq = null;\n      let freq_weight = null;\n      if (typeof _data[i].catStat !== 'undefined') {\n        console.log(_data[i].catStat);\n        for (let j = 0; j < _data[i].catStat.length; j++) {\n          const sub_obj = _data[i].catStat[j];\n          if (sub_obj['@type'] === 'freq' && !sub_obj['@wgtd']) {\n            freq = sub_obj['#text'];\n          } else {\n            if (sub_obj['@type'] === 'freq' && sub_obj['@wgtd'] && sub_obj['#text'] !== '') {\n              freq_weight = sub_obj['#text'];\n            }\n          }\n        }\n        // dataverse ddi exception\n        if (!freq) {\n          freq = _data[i].catStat['#text'];\n        }\n      }\n      let short_name = _data[i].labl['#text'];\n\n      if (short_name.length > this.max_string_length) {\n        short_name = short_name.substring(0, this.max_string_length) + '...';\n      }\n      short_name = short_name;\n      // switching to weighted frequencies\n      if (freq_weight != null) { freq = freq_weight; }\n      data.push({\n        name: short_name,\n        freq: freq\n      });\n    }\n    const max_height = (data.length + 1) * 25;\n\n    // sort bars based on value\n    data = data.sort(function(a, b) {\n      return d3.ascending(a.freq, b.freq);\n    });\n\n    // set the dimensions and margins of the graph\n    const margin = { top: 0, right: 20, bottom: 30, left: 90 };\n    const width = 500 - margin.left - margin.right;\n    const height = max_height - margin.top - margin.bottom;\n\n    // set the ranges\n    const y = d3\n      .scaleBand()\n      .range([height, 0])\n      .padding(0.3);\n\n    const x = d3.scaleLinear().range([0, width]);\n\n    const element = this.chartContainer.nativeElement;\n\n    const svg = d3\n      .select(element)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      .append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    // format the data\n    data.forEach((d) => {\n      d.freq = +d.freq;\n    });\n\n    // Scale the range of the data in the domains\n    x.domain([\n      0,\n      d3.max(data, (d) => {\n        return d.freq;\n      })\n    ]);\n    y.domain(\n      data.map((d) => {\n        return d.name;\n      })\n    );\n\n    // append the rectangles for the bar chart\n    let count = 0;\n    svg\n      .selectAll('.bar')\n      .data(data)\n      .enter()\n      .append('rect')\n      .attr('class', 'bar')\n      .attr('width', (d) => {\n        return x(d.freq);\n      })\n      .attr('y', (d) => {\n        return y(d.name);\n      })\n      .attr('fill', (d) => {\n        count += 1;\n        return obj.getColor(count);\n      })\n      .attr('height', y.bandwidth());\n\n    // add the x Axis\n    svg\n      .append('g')\n      .attr('transform', 'translate(0,' + height + ')')\n      .call(d3.axisBottom(x));\n\n    // add the y Axis\n    svg.append('g').call(d3.axisLeft(y));\n  }\n\n  getColor(num) {\n    let color;\n    if (num < this.color_array.length) {\n      color = this.color_array[num];\n    } else {\n      color = this.getRandomColor();\n    }\n    return color;\n  }\n  getRandomColor() {\n    const letters = '0123456789ABCDEF'.split('');\n    let color = '#';\n    for (let i = 0; i < 6; i++) {\n      color += letters[Math.floor(Math.random() * 16)];\n    }\n    return color;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { HttpHeaders } from '@angular/common/http';\n\n@Injectable()\nexport class DdiService {\n  constructor(private http: HttpClient) {}\n  getDDI(url: string) {\n    return this.http.get(url, { responseType: 'text' });\n  }\n\n putDDI(url: string, body: string, key: string) {\n\n    console.log('my url ' + url);\n    console.log('my key ' + key);\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/xml',\n\n        'X-Dataverse-key': key\n      })\n\n    };\n    console.log ('Before sending');\n    return this.http.put(url, body, httpOptions);\n    // return this.http.post(url,body, httpOptions);\n\n  }\n\n\n  getParameterByName(name) {\n    const url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, '\\\\$&');\n    const regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n    const results = regex.exec(url);\n    if (!results) {\n      return null;\n    }\n    if (!results[2]) {\n      return '';\n    }\n    return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n  }\n  getBaseUrl() {\n    const protocol = window.location.protocol;\n    const host = window.location.hostname;\n    const port = window.location.port;\n  /*  if (port === '4200') {\n      port = '8080';\n    }*/\n    let base_url = protocol + '//' + host;\n    if (port != null || typeof port !== 'undefined') {\n      base_url = base_url + ':' + port;\n    }\n    return base_url;\n  }\n}\n","module.exports = \".interface-header {\\n  padding-top: 5px;\\n}\\n\\n.mat-toolbar-row, .mat-toolbar-single-row {\\n  min-height: 50px;\\n  height: auto;\\n}\\n\\n.headertext {\\n  height: auto;\\n  font-size: 0.7em;\\n  font-weight: 400;\\n  white-space: normal;\\n  padding-bottom: 15px;\\n  line-height: 1.1em;\\n}\\n\\n.headertext.title {\\n  font-size: 1.1em;\\n  font-weight: 500;\\n}\\n\\n.actionbuttons {\\n  float: right;\\n  font-size: 0.6em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW50ZXJmYWNlL2ludGVyZmFjZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsZ0JBQWdCO0VBQ2hCLG1CQUFtQjtFQUNuQixvQkFBb0I7RUFDcEIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixnQkFBZ0I7QUFDbEIiLCJmaWxlIjoic3JjL2FwcC9pbnRlcmZhY2UvaW50ZXJmYWNlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaW50ZXJmYWNlLWhlYWRlciB7XG4gIHBhZGRpbmctdG9wOiA1cHg7XG59XG5cbi5tYXQtdG9vbGJhci1yb3csIC5tYXQtdG9vbGJhci1zaW5nbGUtcm93IHtcbiAgbWluLWhlaWdodDogNTBweDtcbiAgaGVpZ2h0OiBhdXRvO1xufVxuXG4uaGVhZGVydGV4dCB7XG4gIGhlaWdodDogYXV0bztcbiAgZm9udC1zaXplOiAwLjdlbTtcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgcGFkZGluZy1ib3R0b206IDE1cHg7XG4gIGxpbmUtaGVpZ2h0OiAxLjFlbTtcbn1cblxuLmhlYWRlcnRleHQudGl0bGUge1xuICBmb250LXNpemU6IDEuMWVtO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uYWN0aW9uYnV0dG9ucyB7XG4gIGZsb2F0OiByaWdodDtcbiAgZm9udC1zaXplOiAwLjZlbTtcbn0iXX0= */\"","module.exports = \"<div id=\\\"loading-details\\\" *ngIf=\\\"!ddi_loaded\\\" class=\\\"row content-area\\\">\\n  <mat-progress-spinner mode=\\\"indeterminate\\\"></mat-progress-spinner>\\n</div>\\n\\n<ng-container class=\\\"interface-container\\\">\\n\\n  <mat-toolbar class=\\\"interface-header\\\">\\n    <mat-toolbar-row>\\n      <h1 class=\\\"headertext title\\\">{{title}}</h1>\\n      <span class=\\\"fill-space\\\"></span>\\n      <span class=\\\"actionbuttons\\\">\\n        <button mat-icon-button color=\\\"accent\\\" (click)=\\\"onSave()\\\" i18n-matTooltip matTooltip=\\\"Download\\\">\\n          <mat-icon i18n-aria-label aria-label=\\\"Download\\\">get_app</mat-icon>\\n        </button>\\n        <span i18n>Download</span>\\n      </span>\\n      <span class=\\\"actionbuttons\\\">\\n        <button mat-icon-button color=\\\"accent\\\" (click)=\\\"sendToDV()\\\" i18n-matTooltip matTooltip=\\\"Save\\\">\\n          <mat-icon i18n-aria-label aria-label=\\\"Save\\\">save</mat-icon>\\n        </button>\\n        <span i18n>Save</span>\\n      </span>\\n    </mat-toolbar-row>\\n    <mat-toolbar-row class=\\\"headertext citation\\\">\\n      <span>{{firstCitat}}<a href=\\\"{{doi}}\\\">{{doi}}</a>{{secondCitat}}</span>\\n    </mat-toolbar-row>\\n    <mat-toolbar-row class=\\\"headertext\\\">\\n      {{filename}}\\n    </mat-toolbar-row>\\n  </mat-toolbar>\\n\\n  <mat-sidenav-container>\\n    <mat-sidenav mode=\\\"side\\\" opened class=\\\"side_nav\\\" #scrollMe>\\n      <app-var-group [_variable_groups]=\\\"_variable_groups\\\" (subSetRows)=\\\"broadcastSubSetRows($event)\\\" (selectGroup)=\\\"broadcastSelect($event)\\\" (draggedGroup)=\\\"broadcastDraggedGroup($event)\\\" (disableSelectGroup)=\\\"broadcastDeselectGroup()\\\"\\n      (parentScrollNav)=\\\"scrollNav()\\\"\\n      ></app-var-group>\\n    </mat-sidenav>\\n    <mat-sidenav-content>\\n      <app-var [_variable_groups]=\\\"_variable_groups\\\"></app-var>\\n    </mat-sidenav-content>\\n  </mat-sidenav-container>\\n\\n</ng-container>\\n\"","import {\n  Component,\n  OnInit,\n  Output,\n  EventEmitter,\n  ViewChild,\n  ElementRef\n} from '@angular/core';\nimport { NgModule } from '@angular/core';\nimport { DdiService } from '../ddi.service';\nimport { xml2json } from '../../assets/js/xml2json';\nimport { json2xml } from '../../assets/js/json2xml';\n\nimport { MatButtonModule } from '@angular/material';\nimport { VarComponent } from '../var/var.component';\nimport * as FileSaver from 'file-saver';\nimport * as XMLWriter from 'xml-writer';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-interface',\n  templateUrl: './interface.component.html',\n  styleUrls: ['./interface.component.css']\n})\n@NgModule({\n  imports: [MatButtonModule],\n  exports: [MatButtonModule]\n})\nexport class InterfaceComponent implements OnInit {\n  @ViewChild(VarComponent) child;\n  @ViewChild('scrollMe') private myScrollContainer: ElementRef;\n\n  data = null; // store the xml\n  ddi_loaded = false; // show the loading\n  title;\n  firstCitat;\n  secondCitat;\n  doi;\n  filename;\n  _variable_groups = []; // store the variables in an array display\n  _variables = []; // store the variables to be broadcast to child\n  _id = null; // file id\n  _metaId = null;\n  _base_url = null;\n  http: HttpClient;\n\n  constructor(private ddiService: DdiService ) {}\n\n  ngOnInit() {\n    let uri = null;\n    uri = this.ddiService.getParameterByName('uri');\n    this._id = this.ddiService.getParameterByName('dfId');\n    this._metaId = this.ddiService.getParameterByName('fileMetadataId');\n    console.log(this._metaId);\n\n    this._base_url = this.ddiService.getBaseUrl();\n\n    if (!uri && this._id != null) {\n      uri = this._base_url + '/api/access/datafile/' + this._id + '/metadata/ddi';\n      if (this._metaId != null) {\n        uri = uri + '?fileMetadataId=' + this._metaId;\n      }\n    } else {\n      if (!uri) {\n        // Just for testing purposes\n        //uri = this._base_url + '/assets/FOCN_SPSS_20150525_FORMATTED-ddi.xml';\n        uri = this._base_url + '/assets/test_groups.xml';\n        // uri = this._base_url + '/assets/arg-drones-E-2014-can.xml';\n      }\n    }\n    this.getDDI(uri);\n  }\n\n  getDDI(_uri): void {\n    const url = _uri;\n    this.ddiService\n      .getDDI(url)\n      .subscribe(\n        data => this.processDDI(data),\n        error => console.log(error),\n        () => this.completeDDI()\n      );\n  }\n\n  scrollNav() {\n    const elm = this.myScrollContainer['_elementRef'].nativeElement;\n    elm.scrollTop = elm.scrollHeight;\n  }\n  processDDI(data) {\n    const parser = new DOMParser();\n    this.data = parser.parseFromString(data, 'text/xml');\n  }\n\n  completeDDI() {\n    this.showVarsGroups();\n    this.showVars();\n    this.title = this.data\n      .getElementsByTagName('stdyDscr')[0]\n      .getElementsByTagName('titl')[0].textContent;\n    const citation = this.data\n      .getElementsByTagName('stdyDscr')[0]\n      .getElementsByTagName('biblCit')[0].textContent;\n    const start = citation.indexOf('http');\n    const temp = citation.substr(start);\n    const end = temp.indexOf(',');\n    this.doi = temp.substr(0, end);\n    this.firstCitat = citation.substr(0, start );\n    this.firstCitat = this.firstCitat;\n    this.secondCitat = temp.substr(end);\n    this.secondCitat = this.secondCitat;\n\n    this.filename = this.data\n      .getElementsByTagName('fileDscr')[0]\n      .getElementsByTagName('fileName')[0].textContent;\n    this.showDDI();\n  }\n\n  showVarsGroups() {\n    const elm = this.data.getElementsByTagName('varGrp');\n    \n    for (const elmIn of elm) {\n      const obj = JSON.parse(xml2json(elmIn, ''));\n      this._variable_groups.push(obj);\n    }\n  }\n\n  showVars() {\n    const variables = [];\n    const elm = this.data.getElementsByTagName('var');\n    for (const elm_in of elm) {\n      variables.push(JSON.parse(xml2json(elm_in, '')));\n    }\n    // flatten the table structure so it can be sorted/filtered appropriately\n    const flat_array = [];\n    for (let i = 0; i < variables.length; i++) {\n      const obj = variables[i];\n      // make equivalent variable to allow sorting\n      for (const j in obj.var) {\n        if (j.indexOf('@') === 0) {\n          obj.var[j.substring(1).toLowerCase()] = obj.var[j];\n        }\n      }\n\n      if (typeof obj.var.catgry !== 'undefined') {\n        if (typeof obj.var.catgry.length === 'undefined') {\n          // If there is only one category\n          obj.var.catgry = [obj.var.catgry];\n        }\n        for (let k = 0; k < obj.var.catgry.length; k++) {\n          if (typeof obj.var.catgry[k].catStat !== 'undefined') {\n            if (typeof obj.var.catgry[k].catStat.length === 'undefined') {\n              obj.var.catgry[k].catStat = [obj.var.catgry[k].catStat];\n            }\n          }\n        }\n      }\n      if (typeof obj.var.universe !== 'undefined') {\n        if (typeof obj.var.universe.size === 'undefined') {\n          obj.var.universe = {'#text': obj.var.universe};\n        }\n      }\n\n      if (typeof obj.var.notes !== 'undefined') {\n        if (typeof obj.var.notes.length !== undefined && obj.var.notes.length === 2 ) {\n          obj.var.notes = {'#cdata': obj.var.notes[1]['#cdata'],\n                                    '#text': obj.var.notes[0]['#text'],\n                                    '@level': obj.var.notes[0]['@level'],\n                                    '@subject': obj.var.notes[0]['@subject'],\n                                    '@type': obj.var.notes[0]['@type']};\n        }\n      }\n      flat_array.push(obj.var);\n    }\n\n    this._variables = flat_array;\n    this.child.onUpdateVars(this._variables);\n  }\n  // pass the selected ids to the var table for display\n  broadcastSubSetRows(ids) {\n    this.child.onSubset(ids);\n  }\n\n  broadcastSelect(_id) {\n    // set the var table header to show the selection\n    this.child.selectGroup(_id);\n  }\n\n  broadcastDraggedGroup(_id) {\n    this.child.draggedGroup(_id);\n  }\n\n  broadcastDeselectGroup() {\n    this.child.disableSelectGroup();\n  }\n\n  showDDI() {\n    this.ddi_loaded = true;\n  }\n\n  // Create the XML File\n  makeXML() {\n\n      const doc = new XMLWriter();\n      doc.startDocument();\n      doc.startElement('dataDscr');\n\n      // add groups\n      for (const group of this._variable_groups) {\n        if ( group.varGrp.labl !== null && group.varGrp.labl.trim() !== '' ) {\n          doc.startElement('varGrp');\n          doc.writeAttribute('ID', group.varGrp['@ID']);\n          doc.writeAttribute('var', group.varGrp['@var']);\n          doc.startElement('labl');\n          doc.text(group.varGrp.labl);\n          doc.endElement();\n          doc.endElement();\n        }\n      }\n      // add variables\n      for (let i = 0; i < this._variables.length; i++) {\n        // start variable (var)\n        doc.startElement('var');\n        doc.writeAttribute('ID', this._variables[i]['@ID']);\n        doc.writeAttribute('name', this._variables[i]['@name']);\n        if (typeof this._variables[i]['@intrvl'] !== 'undefined') {\n          doc.writeAttribute('intrvl', this._variables[i]['@intrvl']);\n        }\n        if (typeof this._variables[i]['@wgt'] !== 'undefined' && this._variables[i]['@wgt'] !== '') {\n          doc.writeAttribute('wgt', this._variables[i]['@wgt']);\n        }\n        if (typeof this._variables[i]['@wgt-var'] !== 'undefined' && this._variables[i]['@wgt-var'] !== '') {\n          doc.writeAttribute('wgt-var', this._variables[i]['@wgt-var']);\n        }\n        // start location\n        if (typeof this._variables[i].location !== 'undefined') {\n          doc.startElement('location').writeAttribute('fileid', this._variables[i].location['@fileid']);\n          doc.endElement();\n        }\n        // end location\n        // start labl\n        if (typeof this._variables[i].labl !== 'undefined') {\n          doc.startElement('labl');\n          doc.writeAttribute('level', this._variables[i].labl['@level']);\n          doc.text(this._variables[i].labl['#text']);\n          doc.endElement();\n        }\n        // end labl\n        // start sumStat\n        if (typeof this._variables[i].sumStat !== 'undefined') {\n          if (typeof this._variables[i].sumStat.length !== 'undefined') {\n            for (let j = 0; j < this._variables[i].sumStat.length; j++) {\n              doc.startElement('sumStat');\n              doc.writeAttribute('type', this._variables[i].sumStat[j]['@type']);\n              doc.text(this._variables[i].sumStat[j]['#text']);\n              doc.endElement();\n            }\n          }\n        }\n        // end sumStat\n        // start catgry\n        if (typeof this._variables[i].catgry !== 'undefined') {\n          if (typeof this._variables[i].catgry.length !== 'undefined') {\n            for (let j = 0; j < this._variables[i].catgry.length; j++) {\n              doc.startElement('catgry');\n              if (typeof this._variables[i].catgry[j].catValu !== 'undefined') {\n                doc.startElement('catValu').text(this._variables[i].catgry[j].catValu);\n                doc.endElement();\n              }\n              if (typeof this._variables[i].catgry[j].labl !== 'undefined') {\n                doc.startElement('labl');\n                doc.writeAttribute('level', this._variables[i].catgry[j].labl['@level']);\n                doc.text(this._variables[i].catgry[j].labl['#text']);\n                doc.endElement();\n              }\n              if (typeof this._variables[i].catgry[j].catStat !== 'undefined') {\n                // frequency\n                if (typeof this._variables[i].catgry[j].catStat.length !== 'undefined') {\n                  doc.startElement('catStat');\n                  doc.writeAttribute('type', this._variables[i].catgry[j].catStat[0]['@type']);\n                  doc.text(this._variables[i].catgry[j].catStat[0]['#text']);\n                  doc.endElement();\n                  // weighted frequency\n                  if (this._variables[i].catgry[j].catStat.length > 1) {\n                    doc.startElement('catStat');\n                    doc.writeAttribute('wgtd', this._variables[i].catgry[j].catStat[1]['@wgtd']);\n                    doc.writeAttribute('type', this._variables[i].catgry[j].catStat[1]['@type']);\n                    doc.text(this._variables[i].catgry[j].catStat[1]['#text']);\n                    doc.endElement();\n                  }\n                }\n              }\n              doc.endElement();\n            }\n          }\n        }\n        // end catgry\n        // start qstn\n        if (typeof this._variables[i].qstn !== 'undefined' &&\n            ((typeof this._variables[i].qstn.qstnLit !== 'undefined' && this._variables[i].qstn.qstnLit !== '') ||\n                (typeof this._variables[i].qstn.ivuInstr !== 'undefined' && this._variables[i].qstn.ivuInstr !== '') ||\n            (typeof this._variables[i].qstn.postQTxt !== 'undefined' && this._variables[i].qstn.postQTxt !== ''))) {\n\n          doc.startElement('qstn');\n          if (typeof this._variables[i].qstn.qstnLit !== 'undefined') {\n            doc.startElement('qstnLit').text(this._variables[i].qstn.qstnLit);\n            doc.endElement();\n          }\n          if (typeof this._variables[i].qstn.ivuInstr !== 'undefined') {\n            doc.startElement('ivuInstr').text(this._variables[i].qstn.ivuInstr);\n            doc.endElement();\n          }\n          if (typeof this._variables[i].qstn.postQTxt !== 'undefined') {\n            doc.startElement('postQTxt').text(this._variables[i].qstn.postQTxt);\n            doc.endElement();\n          }\n          doc.endElement();\n        }\n        // end qstn\n        // start varFormat\n        if (typeof this._variables[i].varFormat !== 'undefined') {\n          doc.startElement('varFormat');\n          doc.writeAttribute('type', this._variables[i].varFormat['@type']);\n          doc.endElement();\n        }\n        // end varFormat\n        // start notes\n        if (typeof this._variables[i].notes !== 'undefined' ) {\n\n          // start notes cdata\n          if (typeof this._variables[i].notes['#cdata'] !== 'undefined' && this._variables[i].notes['#cdata'] !== '') {\n            doc.startElement('notes');\n            doc.startCData();\n            doc.writeCData(this._variables[i].notes['#cdata']);\n            doc.endCData();\n            doc.endElement();\n          }\n          // end notes cdata\n          doc.startElement('notes');\n          doc.writeAttribute('subject', this._variables[i].notes['@subject']);\n          doc.writeAttribute('level', this._variables[i].notes['@level']);\n          doc.writeAttribute('type', this._variables[i].notes['@type']);\n          doc.text(this._variables[i].notes['#text']);\n          doc.endElement();\n        }\n        // end notes\n        // start universe\n        if (typeof this._variables[i].universe !== 'undefined' && this._variables[i].universe['#text'] !== '') {\n          doc.startElement('universe');\n          doc.text(this._variables[i].universe['#text']);\n          doc.endElement();\n        }\n        // end universe\n        // end variable (var)\n        doc.endElement();\n      }\n\n      doc.endDocument();\n      return doc;\n  }\n\n  // Save the XML file locally\n  onSave() {\n      const doc = this.makeXML();\n      const text = new Blob([doc.toString()], {type: 'application/xml'});\n      const tl = this.title + '.xml';\n\n      FileSaver.saveAs(text, 'dct.xml');\n  }\n\n  // Send the XML to Dataverse\n  sendToDV() {\n    const key = this.ddiService.getParameterByName('key');\n    const doc = this.makeXML();\n\n    if (key !== null) {\n      const url = this._base_url + '/api/edit/' + this._id; // + \"/\" + this._metaId;\n\n      this.ddiService\n          .putDDI(url, doc.toString(), key)\n          .subscribe(\n              data => {\n                console.log('Data ');\n                console.log(data);\n              },\n              error => {\n                console.log('Error');\n                console.log(error);\n              },\n              () => console.log('Ok'));\n    } else {\n      console.log('API Key missing');\n    }\n  }\n}\n","module.exports = \".text-inside-grid > div {\\n  justify-content: flex-start !important;\\n}\\n\\n.field_width {\\n  width: 480px !important;\\n}\\n\\n.textarea_height {\\n  height: 80px;\\n}\\n\\n.mat-dialog-content {\\n  overflow: visible;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmFyLWRpYWxvZy92YXItZGlhbG9nLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxzQ0FBc0M7QUFDeEM7O0FBRUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkIiLCJmaWxlIjoic3JjL2FwcC92YXItZGlhbG9nL3Zhci1kaWFsb2cuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi50ZXh0LWluc2lkZS1ncmlkID4gZGl2IHtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0ICFpbXBvcnRhbnQ7XG59XG5cbi5maWVsZF93aWR0aCB7XG4gIHdpZHRoOiA0ODBweCAhaW1wb3J0YW50O1xufVxuXG4udGV4dGFyZWFfaGVpZ2h0IHtcbiAgaGVpZ2h0OiA4MHB4O1xufVxuXG4ubWF0LWRpYWxvZy1jb250ZW50IHtcbiAgb3ZlcmZsb3c6IHZpc2libGU7XG59XG4iXX0= */\"","module.exports = \"<div mat-dialog-content >\\n  <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"submit(form)\\\">\\n    <h1 mat-dialog-title i18n>Variable Information</h1>\\n\\n    <mat-dialog-content>\\n      <mat-grid-list class=\\\"table-controls\\\" cols=\\\"2\\\" rowHeight=\\\"62\\\">\\n        <mat-grid-tile colspan=\\\"1\\\" rowspan=\\\"1\\\">\\n          <mat-form-field>\\n            <input matInput formControlName=\\\"id\\\" i18n-placeholder placeholder=\\\"ID\\\" value=\\\"{{data['@ID']}}\\\"  >\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile colspan=\\\"1\\\" rowspan=\\\"1\\\">\\n          <mat-form-field>\\n            <input matInput formControlName=\\\"name\\\" i18n-placeholder placeholder=\\\"Name\\\" value=\\\"{{data['@name']}}\\\" >\\n          </mat-form-field>\\n        </mat-grid-tile>\\n\\n        <mat-grid-tile colspan=\\\"2\\\" rowspan=\\\"1\\\">\\n          <mat-form-field  class=\\\"field_width\\\">\\n             <input matInput formControlName=\\\"labl\\\" i18n-placeholder placeholder=\\\"Label\\\" value=\\\"{{data.labl['#text']}}\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile colspan=\\\"2\\\" rowspan=\\\"1\\\">\\n          <mat-form-field  class=\\\"field_width\\\">\\n            <input matInput formControlName=\\\"qstnLit\\\" i18n-placeholder placeholder=\\\"Literal Question\\\" value=\\\"{{data.qstn.qstnLit}}\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n\\n        <mat-grid-tile colspan=\\\"2\\\" rowspan=\\\"1\\\">\\n          <mat-form-field  class=\\\"field_width\\\">\\n            <input matInput formControlName=\\\"ivuInstr\\\" i18n-placeholder placeholder=\\\"Interviewer Instructions\\\" value=\\\"{{data.qstn.ivuInstr}}\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile colspan=\\\"2\\\" rowspan=\\\"1\\\">\\n          <mat-form-field  class=\\\"field_width\\\">\\n            <input matInput formControlName=\\\"postQTxt\\\" i18n-placeholder placeholder=\\\"Post Question\\\" value=\\\"{{data.qstn.postQTxt}}\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile colspan=\\\"2\\\" rowspan=\\\"1\\\">\\n          <mat-form-field  class=\\\"field_width\\\">\\n            <input matInput formControlName=\\\"universe\\\" i18n-placeholder placeholder=\\\"Universe\\\" value=\\\"{{data.universe['#text']}}\\\">\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile colspan=\\\"2\\\" rowspan=\\\"2\\\">\\n          <mat-form-field class=\\\"field_width\\\" >\\n            <textarea matInput formControlName=\\\"notes\\\" class=\\\"textarea_height\\\" i18n-placeholder placeholder=\\\"Notes\\\" value=\\\"{{data.notes['#cdata']}}\\\" ></textarea>\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <!--Group chip list-->\\n        <mat-grid-tile colspan=\\\"2\\\" rowspan=\\\"1\\\" class=\\\"field_width\\\">\\n          <mat-form-field class=\\\"field_width\\\">\\n            <mat-select formControlName=\\\"_groups\\\" [(value)]=\\\"data['_groups']\\\"  i18n-placeholder placeholder=\\\"Group\\\" multiple=\\\"true\\\">\\n              <mat-option *ngFor=\\\"let g of _variable_groups\\\" [value]=\\\"g.varGrp['@ID']\\\" >\\n                {{ g.varGrp.labl}}\\n              </mat-option>\\n            </mat-select>\\n          </mat-form-field>\\n        </mat-grid-tile>\\n\\n        <mat-grid-tile colspan=\\\"1\\\" rowspan=\\\"1\\\">\\n          <mat-form-field>\\n            <mat-select formControlName=\\\"wgt_var\\\" [(value)]=\\\"data['@wgt-var']\\\" i18n-placeholder placeholder=\\\"Weight Variable\\\">\\n              <mat-option *ngFor=\\\"let w of weights\\\" [value]=\\\"w\\\">\\n                {{ w }}\\n              </mat-option>\\n              <mat-option i18n>Unweighted</mat-option>\\n            </mat-select>\\n          </mat-form-field>\\n        </mat-grid-tile>\\n        <mat-grid-tile colspan=\\\"1\\\" rowspan=\\\"1\\\">\\n          <section class=\\\"example-section\\\">\\n            <mat-checkbox formControlName=\\\"wgt\\\" align=\\\"end\\\" checked=\\\"{{data['@wgt']}}\\\" i18n>Is Weight</mat-checkbox>\\n          </section>\\n        </mat-grid-tile>\\n        <mat-grid-tile colspan=\\\"1\\\" rowspan=\\\"1\\\">\\n          <button mat-button type=\\\"submit\\\" i18n>Update</button>\\n        </mat-grid-tile>\\n        <mat-grid-tile colspan=\\\"1\\\" rowspan=\\\"1\\\">\\n          <button mat-button type=\\\"button\\\" (click)=\\\"dialogRef.close()\\\" i18n>Cancel</button>\\n        </mat-grid-tile>\\n      </mat-grid-list>\\n    </mat-dialog-content>\\n  </form>\\n</div>\\n\"","import { Component, OnInit, Inject, Output, EventEmitter } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { DdiService } from '../ddi.service';\n\n@Component({\n  selector: 'app-var-dialog',\n  templateUrl: './var-dialog.component.html',\n  styleUrls: ['./var-dialog.component.css']\n})\nexport class VarDialogComponent implements OnInit {\n  @Output() parentUpdateVar: EventEmitter<any> = new EventEmitter<any>();\n  form: FormGroup;\n  public weights: any;\n  public _variable_groups: any;\n  edit_objs: any = [];\n\n  weights_and_variable: any;\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private formBuilder: FormBuilder,\n    public dialogRef: MatDialogRef<VarDialogComponent>,\n    private ddiService: DdiService\n  ) {}\n\n  ngOnInit() {\n    // Note: data is passed as any array to allow for multi editing\n    console.log('OnInit');\n    console.log(this.data);\n\n    if (this.data.length > 1) {\n      const selected_ids = [];\n      for (let j = 0; j < this.data.length; j++) {\n        selected_ids.push(this.data[j]['@ID']);\n      }\n      const obj = {\n        '@ID': selected_ids.join(','),\n        _group_edit: true\n      };\n      this.edit_objs = this.data;\n      this.data = obj;\n    } else {\n      this.data = this.data[0];\n    }\n    // add the groups - create an id with all of them\n    const groups = [];\n    for (let i = 0; i < this._variable_groups.length; i++) {\n      const group_vars = this._variable_groups[i].varGrp['@var'].split(' ');\n      if (group_vars.indexOf(this.data['@ID']) > -1) {\n        groups.push(this._variable_groups[i].varGrp['@ID']);\n      }\n    }\n    this.data['_groups'] = [groups]; // groups;\n    this.addOmittedProperties(this.data);\n    console.log('Universe text ' + this.data.universe['#text']);\n    this.form = this.formBuilder.group({\n      id: [\n        { value: this.data ? this.data['@ID'] : '', disabled: true },\n        Validators.required\n      ],\n      name: [\n        { value: this.data ? this.data['@name'] : '', disabled: true },\n        Validators.required\n      ],\n      labl: [this.data ? this.data['labl']['#text'] : '', Validators.required],\n\n      qstnLit: this.data ? this.data.qstn['qstnLit'] : '',\n      universe: this.data ? this.data.universe['#text'] : '',\n      ivuInstr: this.data ? this.data.qstn['ivuInstr'] : '',\n      postQTxt: this.data ? this.data.qstn['postQTxt'] : '',\n      notes: this.data ? this.data.notes['#cdata'] : '',\n      wgt: this.data ? this.data['@wgt'] : '',\n      wgt_var: this.data ? this.data['@wgt-var'] : '',\n      _groups: this.data ? this.data['_groups'] : []\n    });\n  }\n  isSelected(_id) {\n    console.log(_id);\n    return true;\n  }\n  addOmittedProperties(_obj) {\n    if (typeof _obj.qstn === 'undefined') {\n      _obj.qstn = {};\n    }\n\n    if (typeof _obj.labl === 'undefined') {\n      _obj.labl = { '#text': '' };\n    }\n\n    if (typeof _obj.universe === 'undefined') {\n      _obj.universe = {\n        '#text': '',\n        '@clusion': ''\n      };\n    }\n\n    if (typeof _obj.notes === 'undefined') {\n      _obj.notes = {\n        '#cdata': ''\n      };\n    }\n    return _obj;\n  }\n  updateObjValues(_obj, form) {\n    // update label\n    this.updateObjValue(_obj, 'labl.#text', form.controls.labl);\n    // Literal Question - data.qstn.qstnLit\n    this.updateObjValue(_obj, 'qstn.qstnLit', form.controls.qstnLit);\n    // Interviewer Instructions - data.qstn.ivuInstr\n    this.updateObjValue(_obj, 'qstn.ivuInstr', form.controls.ivuInstr);\n    // Post Question - data.qstn.postQTxt\n    this.updateObjValue(_obj, 'qstn.postQTxt', form.controls.postQTxt);\n    // Universe - data.universe\n    this.updateObjValue(_obj, 'universe.#text', form.controls.universe);\n    // update notes if available data.notes\n    // TODO surround notes with <![CDATA[ before saving back to xml\n    this.updateObjValue(_obj, 'notes.#cdata', form.controls.notes);\n    //\n    this.updateObjValue(_obj, '@wgt-var', form.controls.wgt_var);\n    //\n    if (form.controls.wgt.value === true) {\n      _obj['@wgt'] = 'wgt';\n    } else {\n      _obj['@wgt'] = '';\n      // this.removeWeightedFrequencies(_obj);\n    }\n    // add variable to group\n    if (form.controls._groups.dirty === true) {\n      for (let i = 0; i < form.controls._groups.value.length; i++) {\n        const group = this.getVariableGroup(form.controls._groups.value[i]);\n        // check to see if the selected group already has the selected variable\n        const vars = group['@var'].split(' ');\n        if (vars.indexOf(_obj['@ID']) === -1) {\n          vars.push(_obj['@ID']);\n          // set the vars variable back to the group\n          group['@var'] = vars.join(' ');\n        }\n      }\n    }\n    return _obj;\n  }\n\n  getVariableGroup(_id) {\n    // loop though all the variables in the varaible groups and create a complete list\n    for (let i = 0; i < this._variable_groups.length; i++) {\n      if (this._variable_groups[i].varGrp['@ID'] === _id) {\n        return this._variable_groups[i].varGrp;\n      }\n    }\n  }\n  updateObjValue(_obj, _var, _control) {\n    if (_control.dirty === true) {\n      const stack = _var.split('.');\n      while (stack.length > 1) {\n        _obj = _obj[stack.shift()];\n      }\n      _obj[stack.shift()] = _control.value;\n    }\n  }\n\n  submit(form) {\n    if (this.edit_objs.length > 0) {\n      // take all the objects from the\n      for (let i = 0; i < this.edit_objs.length; i++) {\n        this.data = this.edit_objs[i];\n        this.addOmittedProperties(this.data);\n        this.updateObjValues(this.data, form);\n        this.parentUpdateVar.emit(this.data);\n      }\n    } else {\n      this.updateObjValues(this.data, form);\n      this.parentUpdateVar.emit(this.data);\n    }\n    if (typeof this.data['@wgt-var'] !== 'undefined') {\n      this.calculateWeightedFrequencies();\n    } else {\n      // Removing weighted frequency\n      if (typeof this.data.catgry !== 'undefined') {\n        for (let k = 0; k < this.data.catgry.length; k++) {\n          if (\n            typeof this.data.catgry[k].catStat !== 'undefined' &&\n            this.data.catgry[k].catStat.length > 1\n          ) {\n            this.data.catgry[k].catStat.splice(1, 1);\n          }\n        }\n      }\n    }\n\n    this.dialogRef.close(`${form}`);\n  }\n  calculateWeightedFrequencies() {\n    console.log('Start calculate freq');\n\n    console.log(this.data);\n\n    const weight_variable = this.data['@wgt-var'];\n    const variable = this.data['@ID'];\n    console.log(weight_variable);\n    if (typeof weight_variable !== 'undefined') {\n      console.log('variable defined');\n\n      const id = this.ddiService.getParameterByName('dfId');\n\n      const base_url = this.ddiService.getBaseUrl();\n      const key = this.ddiService.getParameterByName('key');\n\n      const detail_url =\n        base_url +\n        '/api/access/datafile/' +\n        id +\n        '?format=subset&variables=' +\n        variable +\n        ',' +\n        weight_variable +\n        '&key=' +\n        key;\n\n      console.log(detail_url);\n      this.ddiService\n        .getDDI(detail_url)\n        .subscribe(\n          data => this.processVariable(data),\n          error => console.log(error),\n          () => this.completeVariable()\n        );\n      //  http://localhost:8080/api/access/datafile/41?variables=v885\n    }\n    console.log('End calculate freq');\n  }\n\n  processVariable(data) {\n    this.weights_and_variable = data.split('\\n');\n  }\n\n  completeVariable() {\n    const map_wf = new Map();\n    for (let i = 1; i < this.weights_and_variable.length; i++) {\n      const vr = this.weights_and_variable[i].split('\\t');\n\n      if (map_wf.has(vr[0])) {\n        let wt = map_wf.get(vr[0]);\n        wt = parseFloat(wt) + parseFloat(vr[1]);\n        map_wf.set(vr[0], wt);\n      } else {\n        map_wf.set(vr[0], vr[1]);\n      }\n    }\n\n    // map_wf.forEach((v, k) => {console.log(v + ' ' + k + ';'); });\n    console.log('Complete');\n    for (let i = 0; i < this.data.catgry.length; i++) {\n      if (!map_wf.has(this.data.catgry[i].catValu)) {\n        map_wf.set(this.data.catgry[i].catValu, 0);\n      }\n\n      if (typeof this.data.catgry[i].catStat !== 'undefined') {\n        if (typeof this.data.catgry[i].catStat.length !== 'undefined') {\n          if (this.data.catgry[i].catStat.length > 1) {\n            this.data.catgry[i].catStat[1] = {\n              '@wgtd': 'wgtd',\n              '@type': 'freq',\n              '#text': map_wf.get(this.data.catgry[i].catValu)\n            };\n          } else {\n            this.data.catgry[i].catStat.push({\n              '@wgtd': 'wgtd',\n              '@type': 'freq',\n              '#text': map_wf.get(this.data.catgry[i].catValu)\n            });\n          }\n        }\n      }\n    }\n  }\n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Zhci1ncm91cC92YXItZ3JvdXAuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<mat-nav-list class=\\\"button-header\\\" xmlns=\\\"http://www.w3.org/1999/html\\\">\\n\\n  <a mat-list-item (click)=\\\"addTab()\\\"><span i18n>Add Group</span><span class=\\\"fill-space\\\"></span><mat-icon>playlist_add</mat-icon></a>\\n\\n</mat-nav-list>\\n<mat-nav-list>\\n\\n  <a mat-list-item (click)=\\\"showAll()\\\" [ngClass]=\\\"{'active': all_active }\\\" i18n>All</a>\\n\\n  <a mat-list-item id=\\\"{{tab.varGrp['@ID']}}\\\" draggable=\\\"true\\\" [disableRipple]=\\\"true\\\"  (dragstart)=\\\"dragstart($event);onGroupClick(tab);trackDragRow(tab)\\\" (dragenter)=\\\"dragenter($event,tab)\\\" (dragend)=\\\"dragend($event)\\\"  *ngFor=\\\"let tab of _variable_groups\\\" (click)=\\\"onGroupClick(tab)\\\" (dblclick)=\\\"onGroupDblClick(tab)\\\" [ngClass]=\\\"{'active': tab.active }\\\" >\\n    <mat-icon aria-label=\\\"drag\\\" i18n-matTooltip matTooltip=\\\"Drag Me\\\" style=\\\"margin-left:-7px\\\">drag_indicator</mat-icon>\\n    <span *ngIf=\\\"!tab.editable\\\">{{tab.varGrp.labl}}</span>\\n    <mat-form-field *ngIf=\\\"tab.editable\\\" class=\\\"fixed_width\\\">\\n      <input matInput maxLength=\\\"50\\\" value=\\\"{{tab.varGrp.labl}}\\\" #titleInput  (keyup.enter) =\\\"renameGroupComplete(tab,titleInput.value )\\\">\\n        <span button mat-icon-button matSuffix color=\\\"primary\\\"> <mat-icon i18n-aria-label aria-label=\\\"Done\\\" (click)=\\\"renameGroupComplete(tab,titleInput.value )\\\">done</mat-icon></span>\\n        <span button mat-icon-button matSuffix color=\\\"primary\\\"> <mat-icon i18n-aria-label aria-label=\\\"Clear\\\" (click)=\\\"renameGroupCancel(tab)\\\">clear</mat-icon></span>\\n        <span button mat-icon-button matSuffix color=\\\"primary\\\"> <mat-icon i18n-aria-label aria-label=\\\"Delete\\\" (click)=\\\"groupDelete(tab)\\\">delete</mat-icon></span>\\n    </mat-form-field>\\n\\n    <span class=\\\"fill-space\\\"></span>\\n    <button *ngIf=\\\"!tab.editable\\\" mat-icon-button color=\\\"primary\\\"><mat-icon aria-label=\\\"Edit\\\" (click)=\\\"renameGroup(tab)\\\">edit</mat-icon></button>\\n\\n  </a>\\n\\n</mat-nav-list>\\n\"","import {Component, OnInit, Input, Output, EventEmitter, ViewChild, ElementRef} from '@angular/core';\n\n@Component({\n  selector: 'app-var-group',\n  templateUrl: './var-group.component.html',\n  styleUrls: ['./var-group.component.css']\n})\n\n\n\nexport class VarGroupComponent implements OnInit {\n  constructor() {}\n\n  all_active = true;\n\n  source: any;\n  @Input() _variable_groups: any;\n  @Output() subSetRows: EventEmitter<null> = new EventEmitter();\n  @Output() parentScrollNav: EventEmitter<null> = new EventEmitter();\n  @Output() selectGroup: EventEmitter<null> = new EventEmitter();\n  @Output() draggedGroup: EventEmitter<null> = new EventEmitter();\n  @Output() disableSelectGroup: EventEmitter<null> = new EventEmitter();\n\n  @ViewChild('titleInput') titleInput: ElementRef\n\n  dragged_obj: any;\n  dragged_over_obj: any;\n  dragged_over_dir = 'before';\n\n  ngOnInit() {}\n\n  // Add a new group to the list and scroll to show it!\n  addTab() {\n\n    const numberOfGroups = this._variable_groups.length;\n    if (numberOfGroups === 0 ||\n      (this._variable_groups[numberOfGroups - 1].varGrp.labl !== 'undefined' &&\n        this._variable_groups[numberOfGroups - 1].varGrp.labl.trim() !== '') ) {\n\n      // get the next id\n      const ids = [];\n      for (const i of this._variable_groups) {\n        ids.push(Number(i.varGrp['@ID'].substring(2)));\n      }\n      ids.sort();\n\n      let _id = 'VG';\n      if (ids.length > 0) {\n        _id += String(ids[ids.length - 1] + 1);\n      } else {\n        _id += '1';\n      }\n\n      const var_group = {} as VarGroup;\n      var_group.varGrp = {\n        labl: '',\n        '@var': '',\n        '@ID': _id\n      };\n\n      var_group.varGrp['@var'] = '';\n      this._variable_groups.push(var_group);\n\n      const obj = this;\n      obj._variable_groups[numberOfGroups].editable = true;\n\n      setTimeout(() => {\n        obj.titleInput.nativeElement.focus();\n        console.log('set time out');\n        obj.parentScrollNav.emit();\n        obj.onGroupClick(var_group);\n      }, 100);\n    }\n\n  }\n\n  onGroupClick(_obj) {\n    const obj = _obj;\n    const vars = obj.varGrp['@var'].split(' ');\n    this.subSetRows.emit(vars);\n    this.showActive(obj.varGrp['@ID']);\n    this.selectGroup.emit(obj.varGrp['@ID']);\n  }\n  onGroupDblClick(_obj) {\n    this.renameGroup(_obj);\n  }\n  renameGroup(_obj) {\n    console.log('Rename group');\n    _obj.editable = true;\n  }\n  renameGroupComplete(_obj, _val) {\n    console.log('renameGroupComplete');\n    if (_val !== null && _val.trim() !== '') {\n      _obj.varGrp.labl = _val.trim();\n      _obj.editable = false;\n    }\n  }\n  renameGroupCancel(_obj) {\n    console.log('renameGroupCancel');\n    if (_obj.varGrp.labl !== null && _obj.varGrp.labl.trim() !== '') {\n      _obj.editable = false;\n    }\n  }\n  groupDelete(_obj) {\n    console.log('delete group');\n    for (let i = 0; i < this._variable_groups.length; i++) {\n      if (this._variable_groups[i].varGrp['@ID'] === _obj.varGrp['@ID']) {\n        this._variable_groups.splice(i, 1);\n      }\n    }\n  }\n  showActive(_id?) {\n    this.all_active = false;\n    // show it's active\n    for (let i = 0; i < this._variable_groups.length; i++) {\n      if (this._variable_groups[i].varGrp['@ID'] === _id) {\n        this._variable_groups[i].active = true;\n      } else {\n        this._variable_groups[i].active = false;\n      }\n    }\n  }\n  showAll() {\n    this.showActive();\n    this.all_active = true;\n    this.subSetRows.emit();\n    this.disableSelectGroup.emit();\n  }\n\n  dragstart($event) {\n    this.source = $event.currentTarget;\n    $event.dataTransfer.effectAllowed = 'move';\n  }\n  trackDragRow(_row) {\n    this.dragged_obj = _row;\n  }\n\n  dragenter($event, _row?) {\n    const target = $event.currentTarget;\n    if (!this.source) {\n      // broadcast\n      this.draggedGroup.emit($event.currentTarget.id);\n      return;\n    }\n    if (_row === this.dragged_obj) {\n      return;\n    }\n    this.dragged_over_obj = _row; // keep track of the dragged over obj to later update the list\n    // need to determine how\n    if (this.isbefore(this.source, target)) {\n      target.parentNode.insertBefore(this.source, target); // insert before\n      this.dragged_over_dir = 'before';\n    } else {\n      target.parentNode.insertBefore(this.source, target.nextSibling); // insert after\n      this.dragged_over_dir = 'after';\n    }\n  }\n  isbefore(a, b) {\n    if (a.parentNode === b.parentNode) {\n      for (let cur = a; cur; cur = cur.previousSibling) {\n        if (cur === b) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  dragend($event) {\n    // make sure we've dragged over something\n    if (!this.dragged_over_obj) {\n      return;\n    }\n    // update the master list\n    // remove the object\n\n    this._variable_groups.splice(\n      this._variable_groups\n        .map(function(e) {\n          return e.varGrp['@ID'];\n        })\n        .indexOf(this.dragged_obj.varGrp['@ID']),\n      1\n    );\n\n    const index = this._variable_groups\n      .map((e) => {\n        return e.varGrp['@ID'];\n      })\n      .indexOf(this.dragged_over_obj.varGrp['@ID']);\n    if (this.dragged_over_dir === 'before') {\n      this._variable_groups.splice(index, 0, this.dragged_obj);\n    } else {\n      this._variable_groups.splice(index + 1, 0, this.dragged_obj);\n    }\n    delete this.dragged_obj;\n    delete this.source; // remove reference\n  }\n}\ninterface VarGroup {\n  varGrp: {\n    labl: string;\n    '@var': string;\n    '@ID': string;\n  };\n}\n","module.exports = \".table-bordered {\\n  border: 1px solid #ddd;\\n  width: 100%;\\n  border-spacing: 0;\\n  border-collapse: collapse;\\n}\\n\\n.table-bordered tr > td,\\n.table-bordered tr > th {\\n  border: 1px solid #ddd;\\n  padding: 5px;\\n  text-align: left;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmFyLXN0YXQtZGlhbG9nL3Zhci1zdGF0LWRpYWxvZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usc0JBQXNCO0VBQ3RCLFdBQVc7RUFDWCxpQkFBaUI7RUFDakIseUJBQXlCO0FBQzNCOztBQUVBOztFQUVFLHNCQUFzQjtFQUN0QixZQUFZO0VBQ1osZ0JBQWdCO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvdmFyLXN0YXQtZGlhbG9nL3Zhci1zdGF0LWRpYWxvZy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRhYmxlLWJvcmRlcmVkIHtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlci1zcGFjaW5nOiAwO1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xufVxuXG4udGFibGUtYm9yZGVyZWQgdHIgPiB0ZCxcbi50YWJsZS1ib3JkZXJlZCB0ciA+IHRoIHtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgcGFkZGluZzogNXB4O1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xufVxuIl19 */\"","module.exports = \"<div mat-dialog-content>\\n\\n  <h1 mat-dialog-title>{{data[\\\"@name\\\"]}}: {{data[\\\"labl\\\"][\\\"#text\\\"]}}</h1>\\n\\n  <app-chart [data]=\\\"sortedCategories\\\"></app-chart>\\n\\n  <table class=\\\"table-bordered\\\">\\n  <tr>\\n      <th i18n>Values</th>\\n      <th i18n>Categories</th>\\n      <th i18n>Count</th>\\n      <th i18n>Weighted Count</th>\\n  </tr>\\n    <tr *ngFor=\\\"let row of sortedCategories\\\">\\n      <td>{{row.catValu}}</td>\\n      <td>{{row.labl[\\\"#text\\\"]}}</td>\\n      <td *ngIf=\\\"isUndefined(row.catStat); else elseBlock\\\"></td>\\n      <ng-template #elseBlock>\\n        <td *ngIf=\\\"isUndefined(row.catStat.length); else elseBlock2\\\"></td>\\n        <ng-template #elseBlock2>\\n          <td>{{row.catStat[0][\\\"#text\\\"]}}</td>\\n        </ng-template>\\n      </ng-template>\\n      <td *ngIf=\\\"isUndefined(row.catStat); else elseBloc\\\"></td>\\n      <ng-template #elseBloc>\\n        <td *ngIf=\\\"doesExist(row.catStat.length); else elseBloc2\\\">{{row.catStat[1][\\\"#text\\\"]}}</td>\\n        <ng-template #elseBloc2>\\n          <td></td>\\n        </ng-template>\\n      </ng-template>\\n    </tr>\\n  </table>\\n\\n  <mat-dialog-actions>\\n      <button mat-button mat-dialog-close i18n>Close</button>\\n  </mat-dialog-actions>\\n\\n</div>\\n\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material';\n\n@Component({\n  selector: 'app-var-stat-dialog',\n  templateUrl: './var-stat-dialog.component.html',\n  styleUrls: ['./var-stat-dialog.component.css']\n})\nexport class VarStatDialogComponent implements OnInit {\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any) {}\n\n  sortedCategories = [];\n\n  ngOnInit() {\n    if (typeof this.data.catgry !== 'undefined') {\n      console.log(this.data.catgry);\n      if (typeof this.data.catgry.length === 'undefined') {\n        this.sortedCategories.push(this.data.catgry);\n      } else {\n        for (const i of this.data.catgry) {\n          console.log(i);\n          this.sortedCategories.push(i);\n        }\n      }\n      console.log(this.sortedCategories);\n      this.sortedCategories.sort((a, b) => {\n        return a.catValu - b.catValu;\n      });\n    }\n  }\n\n  isUndefined(val) {\n    return typeof val === 'undefined';\n  }\n\n  doesExist(val) {\n    return typeof val !== 'undefined' && val > 1;\n  }\n}\n","module.exports = \".grey {\\n  background: #f4f4f4;\\n}\\n\\n.active {\\n  background: #6d9cff;\\n}\\n\\n.mat-header-cell {\\n  color: rgba(0,0,0,.6);\\n}\\n\\n.mat-column-drag {\\n  flex:  0 1 50px;\\n}\\n\\n.mat-column-select {\\n  flex:  0 1 50px;\\n}\\n\\n.mat-column-control {\\n  flex:  0 1 50px;\\n}\\n\\n.mat-column-id {\\n  flex:  0 1 100px;\\n}\\n\\n.mat-column-name {\\n  flex:  0 1 100px;\\n}\\n\\n.mat-column-labl {\\n  flex:  1 1 600px;\\n}\\n\\n.mat-column-wgt-var {\\n  flex:  0 1 100px;\\n}\\n\\n.mat-column-view {\\n  flex:  0 1 75px;\\n}\\n\\n.mat-column-action {\\n  flex:  0 1 75px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmFyL3Zhci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLGVBQWU7QUFDakIiLCJmaWxlIjoic3JjL2FwcC92YXIvdmFyLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZ3JleSB7XG4gIGJhY2tncm91bmQ6ICNmNGY0ZjQ7XG59XG5cbi5hY3RpdmUge1xuICBiYWNrZ3JvdW5kOiAjNmQ5Y2ZmO1xufVxuXG4ubWF0LWhlYWRlci1jZWxsIHtcbiAgY29sb3I6IHJnYmEoMCwwLDAsLjYpO1xufVxuXG4ubWF0LWNvbHVtbi1kcmFnIHtcbiAgZmxleDogIDAgMSA1MHB4O1xufVxuXG4ubWF0LWNvbHVtbi1zZWxlY3Qge1xuICBmbGV4OiAgMCAxIDUwcHg7XG59XG5cbi5tYXQtY29sdW1uLWNvbnRyb2wge1xuICBmbGV4OiAgMCAxIDUwcHg7XG59XG5cbi5tYXQtY29sdW1uLWlkIHtcbiAgZmxleDogIDAgMSAxMDBweDtcbn1cblxuLm1hdC1jb2x1bW4tbmFtZSB7XG4gIGZsZXg6ICAwIDEgMTAwcHg7XG59XG5cbi5tYXQtY29sdW1uLWxhYmwge1xuICBmbGV4OiAgMSAxIDYwMHB4O1xufVxuXG4ubWF0LWNvbHVtbi13Z3QtdmFyIHtcbiAgZmxleDogIDAgMSAxMDBweDtcbn1cblxuLm1hdC1jb2x1bW4tdmlldyB7XG4gIGZsZXg6ICAwIDEgNzVweDtcbn1cblxuLm1hdC1jb2x1bW4tYWN0aW9uIHtcbiAgZmxleDogIDAgMSA3NXB4O1xufSJdfQ== */\"","module.exports = \"<mat-grid-list class=\\\"table-controls\\\" cols=\\\"3\\\" rowHeight=\\\"64\\\">\\n  <mat-grid-tile>\\n    <mat-form-field>\\n      <input matInput [formControl]=\\\"searchFilter\\\" placeholder=\\\"Search\\\" />\\n      <span matSuffix><mat-icon>search</mat-icon></span>\\n    </mat-form-field>\\n  </mat-grid-tile>\\n  <mat-paginator [pageSizeOptions]=\\\"[25, 50, 100]\\\"></mat-paginator>\\n  <mat-divider [vertical]=\\\"true\\\"></mat-divider>\\n  <mat-grid-tile>\\n    <mat-select\\n      color=\\\"primary\\\"\\n      (change)=\\\"addToGroup($event.value)\\\"\\n      placeholder=\\\"Add Selected to Group\\\"\\n      #group_select\\n      disabled=\\\"true\\\"\\n      [hidden]=\\\"group_select.hidden\\\"\\n    >\\n      <mat-option *ngFor=\\\"let g of _variable_groups\\\" [value]=\\\"g.varGrp['@ID']\\\">\\n        {{ g.varGrp.labl }}\\n      </mat-option>\\n    </mat-select>\\n  </mat-grid-tile>\\n</mat-grid-list>\\n\\n<mat-table class=\\\"mat-elevation-z8\\\" [dataSource]=\\\"datasource\\\" matSort>\\n  <!-- drag Icon Column -->\\n  <ng-container matColumnDef=\\\"drag\\\">\\n    <mat-header-cell *matHeaderCellDef> </mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let row\\\">\\n      <mat-icon aria-label=\\\"drag\\\" matTooltip=\\\"Drag Me\\\">drag_indicator</mat-icon>\\n    </mat-cell>\\n  </ng-container>\\n\\n  <!-- Checkbox Column -->\\n  <ng-container matColumnDef=\\\"select\\\">\\n    <mat-header-cell *matHeaderCellDef>\\n      <mat-checkbox\\n        (change)=\\\"$event ? masterToggle() : null\\\"\\n        [checked]=\\\"selection.hasValue() && isAllSelected()\\\"\\n        [indeterminate]=\\\"selection.hasValue() && !isAllSelected()\\\"\\n      >\\n      </mat-checkbox>\\n    </mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let row\\\">\\n      <mat-checkbox\\n        (click)=\\\"$event.stopPropagation()\\\"\\n        (change)=\\\"$event ? selection.toggle(row) : null; checkSelection()\\\"\\n        [checked]=\\\"selection.isSelected(row)\\\"\\n      >\\n      </mat-checkbox>\\n    </mat-cell>\\n  </ng-container>\\n\\n  <!-- MINUS PLUS Column -->\\n  <ng-container matColumnDef=\\\"control\\\">\\n    <mat-header-cell *matHeaderCellDef\\n      ><div style=\\\"width:40px;\\\"></div\\n    ></mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let row; let i = index\\\">\\n      <button\\n        *ngIf=\\\"row._show\\\"\\n        mat-icon-button\\n        color=\\\"accent\\\"\\n        (click)=\\\"onRemove(row['@ID'])\\\"\\n      >\\n        <mat-icon aria-label=\\\"remove\\\">indeterminate_check_box</mat-icon>\\n      </button>\\n      <button\\n        *ngIf=\\\"!row._show\\\"\\n        mat-icon-button\\n        color=\\\"accent\\\"\\n        (click)=\\\"onAdd(row['@ID'])\\\"\\n      >\\n        <mat-icon aria-label=\\\"add\\\">add_box</mat-icon>\\n      </button>\\n    </mat-cell>\\n  </ng-container>\\n\\n  <!-- ID Column -->\\n  <ng-container matColumnDef=\\\"id\\\">\\n    <mat-header-cell *matHeaderCellDef mat-sort-header i18n> ID </mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let row\\\">\\n      <mat-chip-list>\\n        <mat-chip\\n          [color]=\\\"row['_in_group'] == true ? 'accent' : 'primary'\\\"\\n          selected=\\\"true\\\"\\n        >\\n          {{ row['id'] }}\\n        </mat-chip></mat-chip-list\\n      >\\n    </mat-cell>\\n  </ng-container>\\n\\n  <ng-container matColumnDef=\\\"_order\\\">\\n    <mat-header-cell *matHeaderCellDef mat-sort-header> order </mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let row\\\"> {{ row['_order'] }} </mat-cell>\\n  </ng-container>\\n\\n  <ng-container matColumnDef=\\\"name\\\">\\n    <mat-header-cell *matHeaderCellDef mat-sort-header i18n> Name </mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let row\\\"> {{ row['@name'] }} </mat-cell>\\n  </ng-container>\\n\\n  <ng-container matColumnDef=\\\"labl\\\">\\n    <mat-header-cell *matHeaderCellDef mat-sort-header i18n> Label </mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let row\\\"> {{ (row.labl['#text'].length>150)? (row.labl['#text'] | slice:0:150)+'...':(row.labl['#text'])}} </mat-cell>\\n  </ng-container>\\n\\n  <ng-container matColumnDef=\\\"catgry\\\">\\n    <mat-header-cell *matHeaderCellDef mat-sort-header i18n>\\n      Category\\n    </mat-header-cell>\\n    <!--\\n      <mat-cell *matCellDef=\\\"let row\\\"> <span *ngIf=\\\"row.catgry\\\">{{row.catgry.length}}</span> </mat-cell>\\n  --></ng-container>\\n\\n  <ng-container matColumnDef=\\\"wgt-var\\\">\\n    <mat-header-cell *matHeaderCellDef mat-sort-header i18n>\\n      Weight\\n    </mat-header-cell>\\n    <mat-cell *matCellDef=\\\"let row\\\">\\n      <span *ngIf=\\\"row['@wgt-var']\\\">{{ row['@wgt-var'] }}</span></mat-cell\\n    >\\n  </ng-container>\\n\\n  <ng-container matColumnDef=\\\"view\\\">\\n    <mat-header-cell *matHeaderCellDef i18n>View</mat-header-cell>\\n\\n    <mat-cell *matCellDef=\\\"let row; let i = index\\\">\\n      <button\\n        mat-icon-button\\n        color=\\\"accent\\\"\\n        (click)=\\\"onView(row['@ID'])\\\"\\n        i18n-matTooltip\\n        matTooltip=\\\"View\\\"\\n      >\\n        <mat-icon i18n-aria-label aria-label=\\\"View\\\">visibility</mat-icon>\\n      </button>\\n    </mat-cell>\\n  </ng-container>\\n\\n  <ng-container matColumnDef=\\\"action\\\">\\n    <mat-header-cell *matHeaderCellDef>\\n      <button\\n        mat-icon-button\\n        color=\\\"accent\\\"\\n        (click)=\\\"onEditSelected()\\\"\\n        i18n-matTooltip\\n        matTooltip=\\\"Group Edit\\\"\\n        #group_edit\\n        disabled=\\\"true\\\"\\n      >\\n        <mat-icon i18n-aria-label aria-label=\\\"Group Edit\\\">edit</mat-icon>\\n      </button>\\n    </mat-header-cell>\\n\\n    <mat-cell *matCellDef=\\\"let row; let i = index\\\">\\n      <button\\n        mat-icon-button\\n        color=\\\"accent\\\"\\n        (click)=\\\"onEdit(row['@ID'])\\\"\\n        i18n-matTooltip\\n        matTooltip=\\\"Edit\\\"\\n      >\\n        <mat-icon i18n-aria-label aria-label=\\\"Edit\\\">edit</mat-icon>\\n      </button>\\n    </mat-cell>\\n  </ng-container>\\n\\n  <mat-header-row *matHeaderRowDef=\\\"getDisplayedColumns()\\\"></mat-header-row>\\n  <mat-row\\n    *matRowDef=\\\"let row; columns: getDisplayedColumns()\\\"\\n    draggable=\\\"true\\\"\\n    (dragstart)=\\\"dragstart($event); highlightRow(row); trackDragRow(row)\\\"\\n    (dragend)=\\\"dragend($event)\\\"\\n    (dragenter)=\\\"dragenter($event, row)\\\"\\n    [ngClass]=\\\"{ grey: row._show != true, active: row._active == true }\\\"\\n  >\\n  </mat-row>\\n</mat-table>\\n\"","import {\n  Component,\n  OnInit,\n  ViewChild,\n  Input,\n  ChangeDetectorRef,\n  ElementRef\n} from '@angular/core';\nimport {\n  MatPaginator,\n  MatSort,\n  MatTableDataSource,\n  MatSnackBar,\n  MatDialog,\n  MatDialogRef\n} from '@angular/material';\n\nimport { VarDialogComponent } from '../var-dialog/var-dialog.component';\nimport { VarStatDialogComponent } from '../var-stat-dialog/var-stat-dialog.component';\nimport { FormControl } from '@angular/forms';\nimport { SelectionModel } from '@angular/cdk/collections';\n\n@Component({\n  selector: 'app-var',\n  templateUrl: './var.component.html',\n  styleUrls: ['./var.component.css']\n})\nexport class VarComponent implements OnInit {\n  datasource: MatTableDataSource<any>;\n  public searchFilter = new FormControl();\n  private filterValues = { search: '', _show: true };\n  _variables;\n  id;\n  mode = 'all';\n  source: any;\n  dragged_obj: any;\n  dragged_over_obj: any;\n  dragged_over_dir = 'before';\n  dragged_group: any;\n  //\n  _variable_groups_vars = [];\n  @Input() _variable_groups: any;\n  @ViewChild('group_select') private group_select: ElementRef;\n  @ViewChild('group_edit') private group_edit: ElementRef;\n  //\n  @ViewChild(MatSort) sort: MatSort;\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  getDisplayedColumns() {\n    let displayedColumns = []; // 'order_arrows'\n    if (this.mode === 'all') {\n      displayedColumns = [\n        'drag',\n        'select',\n        'id',\n        'name',\n        'labl',\n        'wgt-var',\n        'view',\n        'action'\n      ];\n    } else {\n      displayedColumns = [\n        'drag',\n        'control',\n        'id',\n        'name',\n        'labl',\n        'wgt-var',\n        'view',\n        'action'\n      ];\n    }\n\n    return displayedColumns;\n  }\n\n  selection = new SelectionModel<Element>(true, []);\n  public dialogRef: MatDialogRef<VarDialogComponent>;\n  public dialogStatRef: MatDialogRef<VarStatDialogComponent>;\n  /** Whether the number of selected elements matches the total number of rows. */\n  isAllSelected() {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.datasource.data.length;\n    return numSelected === numRows;\n  }\n\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\n  masterToggle() {\n    if (this.isAllSelected()) {\n      this.selection.clear();\n    } else {\n      for (let i = 0; i < this.datasource.data.length; i++) {\n        if (this.datasource.data[i]._show === true) {\n          this.selection.select(this.datasource.data[i]);\n        }\n      }\n    }\n    this.checkSelection();\n  }\n  constructor(\n    public dialog: MatDialog,\n    public ref: ChangeDetectorRef,\n    public snackBar: MatSnackBar\n  ) {}\n\n  ngOnInit() {\n    this.searchFilter.valueChanges.subscribe(value => {\n      this.filterValues['search'] = value;\n      this.datasource.filter = JSON.stringify(this.filterValues);\n    });\n\n    this.group_select['hidden'] = true;\n  }\n\n  // Entry point - when data has been loaded\n  onUpdateVars(data) {\n    this._variables = data;\n    console.log(this._variables);\n    // make sure all the data is set to show\n    for (let i = 0; i < this._variables.length; i++) {\n      this._variables[i]._show = true;\n      // also make sure it has a label\n      if (typeof this._variables[i].labl === 'undefined') {\n        this._variables[i].labl = { '#text': '' };\n      }\n    }\n    // show if var is _in_group\n    this.updateGroupsVars();\n\n    this.datasource = new MatTableDataSource(this._variables);\n    this.datasource.sort = this.sort;\n    this.datasource.paginator = this.paginator;\n    // sorting\n    this.datasource.sortingDataAccessor = (datasort: any, property: string) => {\n      switch (property) {\n        case 'id':\n          return +datasort['@ID'].replace(/\\D/g, '');\n        case 'name':\n          return datasort['@name'];\n        case 'labl':\n          return datasort.labl['#text'];\n        case '_order':\n          return datasort._order;\n        default:\n          return '';\n      }\n    };\n    // filter\n    this.datasource.filterPredicate = this.createFilter();\n  }\n  createFilter(): (data: any, filter: string) => boolean {\n    const filterFunction = function(data, filter): boolean {\n      const searchTerms = JSON.parse(filter);\n      try {\n        return (\n          data['@ID']\n            .toString()\n            .toLowerCase()\n            .indexOf(searchTerms.search.toLowerCase()) !== -1 ||\n          data['@name']\n            .toString()\n            .toLowerCase()\n            .indexOf(searchTerms.search.toLowerCase()) !== -1 ||\n          data['labl']['#text']\n            .toString()\n            .toLowerCase()\n            .indexOf(searchTerms.search.toLowerCase()) !== -1\n        );\n      } catch (e) {\n        return false;\n      }\n    };\n    return filterFunction;\n  }\n  onEdit(_id) {\n    this.id = _id;\n    // get the data\n    this.openDialog([this.getObjByID(_id, this._variables)]);\n  }\n  onSubset(_ids?) {\n    if (_ids == null) {\n      this.mode = 'all';\n    } else {\n      this.mode = 'group';\n    }\n\n    const data = [];\n    let ungrouped_count = 0;\n    let obj;\n    for (let i = 0; i < this._variables.length; i++) {\n      obj = this._variables[i];\n      if (this.mode === 'group') {\n        if (_ids.indexOf(obj['@ID']) !== -1) {\n          obj._order = _ids.indexOf(obj['@ID']);\n          obj._show = true;\n        } else {\n          ungrouped_count += 1;\n          obj._order = 99999 + ungrouped_count;\n          obj._show = false;\n        }\n      } else if (this.mode === 'all') {\n        obj._order = null;\n        obj._show = true;\n      }\n    }\n    obj._active = false;\n    this.filterValues['_show'] = true;\n    this.datasource.filter = JSON.stringify(this.filterValues);\n\n    // Showing all\n    this.checkSelection(); // and enable group dropdown if applicable\n    if (this.mode === 'group') {\n      this.sortByOrder();\n    } else {\n      this.sort.sort({ id: '', start: 'asc', disableClear: false });\n    }\n  }\n  // when a single row has been updated\n  onUpdateVar() {\n    this.removeWeightedFreq();\n    this.ref.detectChanges();\n  }\n  removeWeightedFreq() {\n    console.log('Start removeWeightedFreq');\n    const weights = this.getWeights();\n    const weights_set = new Set(weights);\n    console.log(weights);\n    console.log(this._variables);\n\n    for (let i = 0; i < this._variables.length; i++) {\n      console.log('wgt-var:' + this._variables[i]['@wgt-var']);\n      if (typeof this._variables[i]['@wgt-var'] !== 'undefined') {\n        if (this._variables[i]['@wgt-var'] !== '') {\n          if (!weights_set.has(this._variables[i]['@wgt-var'])) {\n            this._variables[i]['@wgt-var'] = '';\n            for (let k = 0; k < this._variables[i].catgry.length; k++) {\n              this._variables[i].catgry[k].catStat.splice(1, 1);\n            }\n          }\n        }\n      }\n    }\n    console.log('End removeWeightedFreq');\n  }\n\n  // get the var\n  getObjByID(_id, _data) {\n    for (const i of _data) {\n      const obj = i;\n      if (obj['@ID'] === _id) {\n        return obj;\n      }\n    }\n  }\n  // get the group\n  getObjByIDNested(_id, _data) {\n    for (let i = 0; i < _data.length; i++) {\n      const obj = _data[i];\n      if (obj.varGrp['@ID'] === _id) {\n        return obj;\n      }\n    }\n  }\n  getWeights() {\n    const weights = [];\n    console.log('Get weights ' + this._variables.length);\n    for (let i = 0; i < this._variables.length; i++) {\n      if (this._variables[i]['@wgt'] === 'wgt') {\n        weights.push(this._variables[i]['@ID']);\n        console.log(this._variables[i]['@ID']);\n      }\n    }\n    console.log('End get weights');\n    return weights;\n  }\n  openDialog(data): void {\n    this.dialogRef = this.dialog.open(VarDialogComponent, {\n      width: '550px',\n      data: data,\n      panelClass: 'field_width'\n    });\n    console.log('Open dialog');\n    const weights = this.getWeights();\n    console.log('w ' + weights.length);\n    this.dialogRef.componentInstance.weights = weights;\n    this.dialogRef.componentInstance._variable_groups = this._variable_groups;\n    const sub = this.dialogRef.componentInstance.parentUpdateVar.subscribe(\n      () => {\n        this.onUpdateVar();\n      }\n    );\n  }\n  checkSelection() {\n    // when are in all view mode\n    if (this.mode === 'all') {\n      if (this.selection.selected.length > 0) {\n        this.group_select['disabled'] = 'false';\n        this.group_select['hidden'] = false;\n      } else {\n        this.group_select['disabled'] = 'true';\n        this.group_select['hidden'] = true;\n      }\n    }\n    if (this.selection.selected.length > 1) {\n      this.group_edit['disabled'] = 'false';\n    } else {\n      this.group_edit['disabled'] = 'true';\n    }\n  }\n  addToGroup(_id) {\n    // first get the group\n    const obj = this.getObjByIDNested(_id, this._variable_groups);\n    const vars = obj.varGrp['@var'].split(' ');\n    for (const i of this.selection.selected) {\n      const selected = i;\n      if (vars.indexOf(selected['@ID']) === -1) {\n        vars.push(selected['@ID']);\n      }\n    }\n    // reset vars to new selection\n    obj.varGrp['@var'] = vars.join(' ');\n\n    // reset the dropdown\n    this.group_select['value'] = 0;\n    //\n    this.updateGroupsVars();\n  }\n\n  selectGroup(_id) {\n    this.group_select['value'] = _id;\n\n    this.selection.clear();\n  }\n  disableSelectGroup() {\n    this.group_select['value'] = 0;\n  }\n  updateGroupsVars() {\n    this.getVariableGroupsVars();\n    for (let i = 0; i < this._variables.length; i++) {\n      if (this._variable_groups_vars.indexOf(this._variables[i]['@ID']) > -1) {\n        this._variables[i]._in_group = true;\n      } else {\n        this._variables[i]._in_group = false;\n      }\n    }\n  }\n\n  getVariableGroupsVars() {\n    this._variable_groups_vars = [];\n    // loop though all the variables in the varaible groups and create a complete list\n    for (let i = 0; i < this._variable_groups.length; i++) {\n      const obj = this._variable_groups[i];\n      const vars = obj.varGrp['@var'].split(' ');\n      for (let j = 0; j < vars.length; j++) {\n        if (this._variable_groups_vars.indexOf(vars[j]) === -1) {\n          this._variable_groups_vars.push(vars[j]);\n        }\n      }\n    }\n  }\n\n  sortByOrder() {\n    this.sort.sort({ id: '', start: 'asc', disableClear: false });\n    this.sort.sort({ id: '_order', start: 'asc', disableClear: false });\n  }\n  dragstart($event) {\n    this.source = $event.currentTarget;\n    $event.dataTransfer.effectAllowed = 'move';\n  }\n  trackDragRow(_row) {\n    this.dragged_obj = _row;\n  }\n  //\n  dragenter($event, _row) {\n    const target = $event.currentTarget;\n    // let new_dragged_over_obj=false;\n    if (_row === this.dragged_obj) {\n      return;\n    }\n    this.dragged_over_obj = _row; // keep track of the dragged over obj to later update the list\n    //\n    if (this.isbefore(this.source, target)) {\n      target.parentNode.insertBefore(this.source, target); // insert before\n      this.dragged_over_dir = 'before';\n    } else {\n      // note that \"after\" triggers once per new_dragged_over_obj and thus must be stored to ensure proper placement of dragged object\n      target.parentNode.insertBefore(this.source, target.nextSibling); // insert after\n      this.dragged_over_dir = 'after';\n    }\n  }\n  isbefore(a, b) {\n    if (a.parentNode === b.parentNode) {\n      for (let cur = a; cur; cur = cur.previousSibling) {\n        if (cur === b) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  highlightRow(_row) {\n    _row._active = true;\n  }\n  dragend($event) {\n    this.dragged_obj._active = false; // remove the highlight\n    const id = this.dragged_obj['@ID'];\n    if (this.dragged_group) {\n      // add the dragged var to the dragged group\n      const objgr = this.getObjByIDNested(\n        this.dragged_group,\n        this._variable_groups\n      );\n      const vars = objgr.varGrp['@var'].split(' ');\n      vars.push(id);\n\n      objgr.varGrp['@var'] = vars.join(' ');\n      // if we are currently looking at the group which has been dragged to update it\n      if (this.group_select['value'] === this.dragged_group) {\n        this.updateGroupsVars();\n        this.onSubset(vars);\n      }\n      delete this.dragged_group;\n      return;\n    }\n\n    // take the last dragged over item and place the dragged item either before or after\n    const obj = this.updateGroupVars('drag', id);\n    this.showMSG('Changed the position of ' + id);\n  }\n  onAdd(_id) {\n    const obj = this.updateGroupVars('add', _id);\n    this.showMSG('Added ' + _id + ' to ' + obj.varGrp.labl);\n  }\n  onRemove(_id) {\n    const obj = this.updateGroupVars('remove', _id);\n    this.showMSG('Removed ' + _id + ' from ' + obj.varGrp.labl);\n  }\n  updateGroupVars(_type, _id) {\n    const obj = this.getObjByIDNested(\n      this.group_select['value'],\n      this._variable_groups\n    );\n    const vars = obj.varGrp['@var'].split(' ');\n    //\n    if (_type === 'remove') {\n      vars.splice(vars.indexOf(_id), 1); // remove from array\n    } else if (_type === 'add') {\n      vars.push(_id); // add to end of array\n    } else if (_type === 'drag') {\n      // check if this.dragged_over_obj is not part of the group\n      // check to see if this var is part of the group -- otherwise add it.\n      if (vars.indexOf(_id) > -1) {\n        vars.splice(vars.indexOf(_id), 1); // remove from array\n      }\n      // find out the position of the dragged_over_obj\n      const index = vars.indexOf(this.dragged_over_obj['@ID']);\n      if (this.dragged_over_dir === 'before' && this.dragged_over_obj._show) {\n        // case 1. add before\n        vars.splice(index, 0, _id);\n      } else if (\n        this.dragged_over_dir === 'after' &&\n        this.dragged_over_obj._show\n      ) {\n        // case 2. add after\n        vars.splice(index + 1, 0, _id);\n      }\n    }\n    //\n    obj.varGrp['@var'] = vars.join(' ');\n    // reset the table\n    this.updateGroupsVars();\n    this.onSubset(vars);\n    return obj;\n  }\n  onEditSelected() {\n    const selected_objs = [];\n    // show the popup but only allow certain fields be be updated\n    for (const i of this.selection.selected) {\n      const selected = i;\n      selected_objs.push(selected);\n    }\n    this.openDialog(selected_objs);\n  }\n  draggedGroup(_id) {\n    this.dragged_group = _id;\n  }\n  onView(_id) {\n    const data = this.getObjByID(_id, this._variables);\n    // open a dialog showing the variables\n    this.dialogStatRef = this.dialog.open(VarStatDialogComponent, {\n      width: '550px',\n      data: data,\n      panelClass: 'field_width'\n    });\n  }\n  showMSG(_msg) {\n    this.snackBar.open(_msg, '', {\n      duration: 1000\n    });\n  }\n}\n","/*\tThis work is licensed under Creative Commons GNU LGPL License.\r\n\r\n\tLicense: http://creativecommons.org/licenses/LGPL/2.1/\r\n   Version: 0.9\r\n\tAuthor:  Stefan Goessner/2006\r\n\tWeb:     http://goessner.net/\r\n*/\r\nexport function xml2json(xml, tab) {\r\n   var X = {\r\n      toObj: function(xml) {\r\n         var o = {};\r\n         if (xml.nodeType==1) {   // element node ..\r\n            if (xml.attributes.length)   // element with attributes  ..\r\n               for (var i=0; i<xml.attributes.length; i++)\r\n                  o[\"@\"+xml.attributes[i].nodeName] = (xml.attributes[i].nodeValue||\"\").toString();\r\n            if (xml.firstChild) { // element has child nodes ..\r\n               var textChild=0, cdataChild=0, hasElementChild=false;\r\n               for (var n=xml.firstChild; n; n=n.nextSibling) {\r\n                  if (n.nodeType==1) hasElementChild = true;\r\n                  else if (n.nodeType==3 && n.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)) textChild++; // non-whitespace text\r\n                  else if (n.nodeType==4) cdataChild++; // cdata section node\r\n               }\r\n               if (hasElementChild) {\r\n                  if (textChild < 2 && cdataChild < 2) { // structured element with evtl. a single text or/and cdata node ..\r\n                     X.removeWhite(xml);\r\n                     for (var n=xml.firstChild; n; n=n.nextSibling) {\r\n                        if (n.nodeType == 3)  // text node\r\n                           o[\"#text\"] = X.escape(n.nodeValue);\r\n                        else if (n.nodeType == 4)  // cdata node\r\n                           o[\"#cdata\"] = X.escape(n.nodeValue);\r\n                        else if (o[n.nodeName]) {  // multiple occurence of element ..\r\n                           if (o[n.nodeName] instanceof Array)\r\n                              o[n.nodeName][o[n.nodeName].length] = X.toObj(n);\r\n                           else\r\n                              o[n.nodeName] = [o[n.nodeName], X.toObj(n)];\r\n                        }\r\n                        else  // first occurence of element..\r\n                           o[n.nodeName] = X.toObj(n);\r\n                     }\r\n                  }\r\n                  else { // mixed content\r\n                     if (!xml.attributes.length)\r\n                        o = X.escape(X.innerXml(xml));\r\n                     else\r\n                        o[\"#text\"] = X.escape(X.innerXml(xml));\r\n                  }\r\n               }\r\n               else if (textChild) { // pure text\r\n                  if (!xml.attributes.length)\r\n                     o = X.escape(X.innerXml(xml));\r\n                  else\r\n                     o[\"#text\"] = X.escape(X.innerXml(xml));\r\n               }\r\n               else if (cdataChild) { // cdata\r\n                  if (cdataChild > 1)\r\n                     o = X.escape(X.innerXml(xml));\r\n                  else\r\n                     for (var n=xml.firstChild; n; n=n.nextSibling)\r\n                        o[\"#cdata\"] = X.escape(n.nodeValue);\r\n               }\r\n            }\r\n            if (!xml.attributes.length && !xml.firstChild) o = null;\r\n         }\r\n         else if (xml.nodeType==9) { // document.node\r\n            o = X.toObj(xml.documentElement);\r\n         }\r\n         else\r\n            alert(\"unhandled node type: \" + xml.nodeType);\r\n         return o;\r\n      },\r\n      toJson: function(o, name, ind) {\r\n         var json = name ? (\"\\\"\"+name+\"\\\"\") : \"\";\r\n         if (o instanceof Array) {\r\n            for (var i=0,n=o.length; i<n; i++)\r\n               o[i] = X.toJson(o[i], \"\", ind+\"\\t\");\r\n            json += (name?\":[\":\"[\") + (o.length > 1 ? (\"\\n\"+ind+\"\\t\"+o.join(\",\\n\"+ind+\"\\t\")+\"\\n\"+ind) : o.join(\"\")) + \"]\";\r\n         }\r\n         else if (o == null)\r\n            json += (name&&\":\") + \"null\";\r\n         else if (typeof(o) == \"object\") {\r\n            var arr = [];\r\n            for (var m in o)\r\n               arr[arr.length] = X.toJson(o[m], m, ind+\"\\t\");\r\n            json += (name?\":{\":\"{\") + (arr.length > 1 ? (\"\\n\"+ind+\"\\t\"+arr.join(\",\\n\"+ind+\"\\t\")+\"\\n\"+ind) : arr.join(\"\")) + \"}\";\r\n         }\r\n         else if (typeof(o) == \"string\")\r\n            json += (name&&\":\") + \"\\\"\" + o.toString() + \"\\\"\";\r\n         else\r\n            json += (name&&\":\") + o.toString();\r\n         return json;\r\n      },\r\n      innerXml: function(node) {\r\n         var s = \"\"\r\n         if (\"innerHTML\" in node)\r\n            s = node.innerHTML;\r\n         else {\r\n            var asXml = function(n) {\r\n               var s = \"\";\r\n               if (n.nodeType == 1) {\r\n                  s += \"<\" + n.nodeName;\r\n                  for (var i=0; i<n.attributes.length;i++)\r\n                     s += \" \" + n.attributes[i].nodeName + \"=\\\"\" + (n.attributes[i].nodeValue||\"\").toString() + \"\\\"\";\r\n                  if (n.firstChild) {\r\n                     s += \">\";\r\n                     for (var c=n.firstChild; c; c=c.nextSibling)\r\n                        s += asXml(c);\r\n                     s += \"</\"+n.nodeName+\">\";\r\n                  }\r\n                  else\r\n                     s += \"/>\";\r\n               }\r\n               else if (n.nodeType == 3)\r\n                  s += n.nodeValue;\r\n               else if (n.nodeType == 4)\r\n                  s += \"<![CDATA[\" + n.nodeValue + \"]]>\";\r\n               return s;\r\n            };\r\n            for (var c=node.firstChild; c; c=c.nextSibling)\r\n               s += asXml(c);\r\n         }\r\n         return s;\r\n      },\r\n      escape: function(txt) {\r\n\r\n        return txt.replace(/^\\s+|\\s+$/g, '')\r\n                   .replace(/[\\\\]/g, \"\\\\\\\\\")\r\n                   .replace(/[\\\"]/g, '\\\\\"')\r\n                   .replace(/[\\n]/g, '\\\\n')\r\n                   .replace(/[\\r]/g, '\\\\r')\r\n\r\n      },\r\n      removeWhite: function(e) {\r\n         e.normalize();\r\n         for (var n = e.firstChild; n; ) {\r\n            if (n.nodeType == 3) {  // text node\r\n               if (!n.nodeValue.match(/[^ \\f\\n\\r\\t\\v]/)) { // pure whitespace text node\r\n                  var nxt = n.nextSibling;\r\n                  e.removeChild(n);\r\n                  n = nxt;\r\n               }\r\n               else\r\n                  n = n.nextSibling;\r\n            }\r\n            else if (n.nodeType == 1) {  // element node\r\n               X.removeWhite(n);\r\n               n = n.nextSibling;\r\n            }\r\n            else                      // any other node\r\n               n = n.nextSibling;\r\n         }\r\n         return e;\r\n      }\r\n   };\r\n   if (xml.nodeType == 9) // document node\r\n      xml = xml.documentElement;\r\n   var json = X.toJson(X.toObj(X.removeWhite(xml)), xml.nodeName, \"\\t\");\r\n   return \"{\\n\" + tab + (tab ? json.replace(/\\t/g, tab) : json.replace(/\\t|\\n/g, \"\")) + \"\\n}\";\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nimport 'hammerjs';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}